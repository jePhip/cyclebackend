"use strict";(self["webpackChunkgps_leaflet"]=self["webpackChunkgps_leaflet"]||[]).push([[535],{5068:function(e,t,l){l.r(t),l.d(t,{default:function(){return v}});var a=l(6252),n=l(2262),s=l(9963),o=l(2201),u=l(6673),i=l(9357),d=l(9003),r=l(3379),c=l(6393);const p={style:{display:"flex","justify-content":"center"}},f=(0,a._)("h1",null,"Login",-1);var m={__name:"LoginView",setup(e){let t=(0,n.iH)(""),l=(0,n.iH)("");const m=(0,o.tv)();let h=(0,n.qj)([e=>e.length>0||"Please add a value to this field"]),v=async()=>{let e={username:t.value,password:l.value},a=await fetch("https://cyclebackend-dn4hl3ql4q-uc.a.run.app/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json",credentials:"include"},body:JSON.stringify(e)});a=await a.json(),1==a.success?m.push("/edit"):alert("Login failed")},w=async()=>{let e=await fetch("https://cyclebackend-dn4hl3ql4q-uc.a.run.app/v1/auth/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});e=await e.json(),1==e.success?m.push("/"):alert("Logout failed")},y=()=>{v()};return(e,o)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",p,[(0,a.Wm)(u.T,{onClick:(0,n.SU)(w),flat:""},{default:(0,a.w5)((()=>[(0,a.Uk)("Logout")])),_:1},8,["onClick"])]),(0,a.Wm)(d.o,{justify:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.D,{cols:"3"},{default:(0,a.w5)((()=>[(0,a.Wm)(i.O,{class:"form",onSubmit:(0,s.iM)((0,n.SU)(y),["prevent"])},{default:(0,a.w5)((()=>[f,(0,a.Wm)(c.h,{label:"Username",variant:"outlined",modelValue:(0,n.SU)(t),"onUpdate:modelValue":o[0]||(o[0]=e=>(0,n.dq)(t)?t.value=e:t=e),rules:(0,n.SU)(h),required:""},null,8,["modelValue","rules"]),(0,a.Wm)(c.h,{label:"Password",variant:"outlined",modelValue:(0,n.SU)(l),"onUpdate:modelValue":o[1]||(o[1]=e=>(0,n.dq)(l)?l.value=e:l=e),"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",rules:(0,n.SU)(h),type:e.showPassword?"text":"password",required:"","onClick:append":o[2]||(o[2]=t=>e.showPassword=!e.showPassword)},null,8,["modelValue","append-icon","rules","type"]),(0,a.Wm)(u.T,{type:"submit",flat:""},{default:(0,a.w5)((()=>[(0,a.Uk)("Submit")])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})],64))}};const h=m;var v=h},9357:function(e,t,l){l.d(t,{O:function(){return p}});var a=l(6252),n=l(9e3),s=l(9728),o=l(9483),u=l(2262),i=l(6533),d=l(6719),r=l(3099);const c=(0,i.U)({...(0,n.l)(),...(0,s.vC)()},"VForm"),p=(0,d.ev)()({name:"VForm",props:c(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:l,emit:n}=t;const i=(0,s.Np)(e),d=(0,u.iH)();function c(e){e.preventDefault(),i.reset()}function p(e){const t=e,l=i.validate();t.then=l.then.bind(l),t.catch=l.catch.bind(l),t.finally=l.finally.bind(l),n("submit",t),t.defaultPrevented||l.then((e=>{let{valid:t}=e;t&&d.value?.submit()})),t.preventDefault()}return(0,r.L)((()=>(0,a.Wm)("form",{ref:d,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:c,onSubmit:p},[l.default?.(i)]))),(0,o.F)(i,d)}})}}]);
//# sourceMappingURL=login.4c8c6508.js.map